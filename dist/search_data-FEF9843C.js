searchData={"items":[{"type":"module","title":"GameServer.Types","doc":"Shared types used across GameServer contexts.\n\nThese types provide self-documenting function signatures for common\npatterns like pagination options and entity attributes.","ref":"GameServer.Types.html"},{"type":"type","title":"GameServer.Types.leaderboard_create_attrs/0","doc":"Attributes for creating a new leaderboard.","ref":"GameServer.Types.html#t:leaderboard_create_attrs/0"},{"type":"type","title":"Fields - GameServer.Types.leaderboard_create_attrs/0","doc":"* `:id` - Unique string identifier (required, 1-100 chars)\n  * `:title` - Display title (required, 1-255 chars)\n  * `:description` - Optional description\n  * `:sort_order` - `:desc` (higher is better) or `:asc` (lower is better). Default: `:desc`\n  * `:operator` - How scores are combined:\n    * `:set` - Always replace with new score\n    * `:best` - Only update if new score is better (default)\n    * `:incr` - Add to existing score\n    * `:decr` - Subtract from existing score\n  * `:starts_at` - Optional start time (UTC)\n  * `:ends_at` - Optional end time (UTC)\n  * `:metadata` - Arbitrary key-value data","ref":"GameServer.Types.html#t:leaderboard_create_attrs/0-fields"},{"type":"type","title":"Example - GameServer.Types.leaderboard_create_attrs/0","doc":"create_leaderboard(%{\n      id: \"weekly_kills_w49\",\n      title: \"Weekly Kills - Week 49\",\n      sort_order: :desc,\n      operator: :incr,\n      ends_at: ~U[2024-12-08 00:00:00Z]\n    })","ref":"GameServer.Types.html#t:leaderboard_create_attrs/0-example"},{"type":"type","title":"GameServer.Types.leaderboard_update_attrs/0","doc":"Attributes for updating an existing leaderboard.\n\nNote: `id`, `sort_order`, and `operator` cannot be changed after creation.","ref":"GameServer.Types.html#t:leaderboard_update_attrs/0"},{"type":"type","title":"Fields - GameServer.Types.leaderboard_update_attrs/0","doc":"* `:title` - Display title (1-255 chars)\n  * `:description` - Description text\n  * `:starts_at` - Start time (UTC)\n  * `:ends_at` - End time (UTC)\n  * `:metadata` - Arbitrary key-value data","ref":"GameServer.Types.html#t:leaderboard_update_attrs/0-fields"},{"type":"type","title":"Example - GameServer.Types.leaderboard_update_attrs/0","doc":"update_leaderboard(leaderboard, %{\n      title: \"Updated Title\",\n      ends_at: ~U[2024-12-15 00:00:00Z]\n    })","ref":"GameServer.Types.html#t:leaderboard_update_attrs/0-example"},{"type":"type","title":"GameServer.Types.lobby_create_attrs/0","doc":"Attributes for creating a new lobby.","ref":"GameServer.Types.html#t:lobby_create_attrs/0"},{"type":"type","title":"Fields - GameServer.Types.lobby_create_attrs/0","doc":"* `:name` - Unique identifier/slug (required)\n  * `:title` - Display title (required)\n  * `:max_users` - Maximum number of users allowed (default: 10)\n  * `:is_hidden` - Whether lobby is hidden from public lists (default: false)\n  * `:is_locked` - Whether lobby is locked from new joins (default: false)\n  * `:password` - Optional password for protected lobbies\n  * `:hostless` - Whether lobby can exist without a host (default: false)\n  * `:metadata` - Arbitrary key-value data","ref":"GameServer.Types.html#t:lobby_create_attrs/0-fields"},{"type":"type","title":"Example - GameServer.Types.lobby_create_attrs/0","doc":"create_lobby(user, %{\n      name: \"my-game-room\",\n      title: \"My Game Room\",\n      max_users: 4,\n      password: \"secret\"\n    })","ref":"GameServer.Types.html#t:lobby_create_attrs/0-example"},{"type":"type","title":"GameServer.Types.lobby_list_opts/0","doc":"Lobby listing options for filtering and pagination.","ref":"GameServer.Types.html#t:lobby_list_opts/0"},{"type":"type","title":"Options - GameServer.Types.lobby_list_opts/0","doc":"* `:page` - The page number (1-indexed). Defaults to `nil` (returns all).\n  * `:page_size` - Number of items per page. Defaults to `25`.\n  * `:include_hidden` - Include hidden lobbies in results. Defaults to `false`.","ref":"GameServer.Types.html#t:lobby_list_opts/0-options"},{"type":"type","title":"Example - GameServer.Types.lobby_list_opts/0","doc":"# List all visible lobbies\n    list_lobbies([])\n\n    # List page 1 including hidden lobbies\n    list_lobbies(page: 1, include_hidden: true)","ref":"GameServer.Types.html#t:lobby_list_opts/0-example"},{"type":"type","title":"GameServer.Types.lobby_update_attrs/0","doc":"Attributes for updating an existing lobby.","ref":"GameServer.Types.html#t:lobby_update_attrs/0"},{"type":"type","title":"Fields - GameServer.Types.lobby_update_attrs/0","doc":"* `:title` - Display title\n  * `:max_users` - Maximum number of users allowed\n  * `:is_hidden` - Whether lobby is hidden from public lists\n  * `:is_locked` - Whether lobby is locked from new joins\n  * `:password` - Password for protected lobbies (set to nil to remove)\n  * `:metadata` - Arbitrary key-value data","ref":"GameServer.Types.html#t:lobby_update_attrs/0-fields"},{"type":"type","title":"Example - GameServer.Types.lobby_update_attrs/0","doc":"update_lobby(lobby, user, %{\n      title: \"New Title\",\n      is_locked: true\n    })","ref":"GameServer.Types.html#t:lobby_update_attrs/0-example"},{"type":"type","title":"GameServer.Types.pagination_opts/0","doc":"Pagination options for list queries.","ref":"GameServer.Types.html#t:pagination_opts/0"},{"type":"type","title":"Options - GameServer.Types.pagination_opts/0","doc":"* `:page` - The page number (1-indexed). Defaults to `1`.\n  * `:page_size` - Number of items per page. Defaults to `25`.","ref":"GameServer.Types.html#t:pagination_opts/0-options"},{"type":"type","title":"Example - GameServer.Types.pagination_opts/0","doc":"# Get the first page with default size\n    list_users([])\n\n    # Get page 2 with 50 items per page\n    list_users(page: 2, page_size: 50)","ref":"GameServer.Types.html#t:pagination_opts/0-example"},{"type":"type","title":"GameServer.Types.user_registration_attrs/0","doc":"Attributes for registering a new user.","ref":"GameServer.Types.html#t:user_registration_attrs/0"},{"type":"type","title":"Fields - GameServer.Types.user_registration_attrs/0","doc":"* `:email` - User's email address (required for email registration)\n  * `:password` - User's password (required for email registration, min 8 chars)\n  * `:display_name` - Optional display name\n  * `:device_id` - Optional device ID for anonymous auth","ref":"GameServer.Types.html#t:user_registration_attrs/0-fields"},{"type":"type","title":"Example - GameServer.Types.user_registration_attrs/0","doc":"register_user(%{\n      email: \"user@example.com\",\n      password: \"secret123\",\n      display_name: \"Player One\"\n    })","ref":"GameServer.Types.html#t:user_registration_attrs/0-example"},{"type":"type","title":"GameServer.Types.user_update_attrs/0","doc":"Attributes for updating an existing user.","ref":"GameServer.Types.html#t:user_update_attrs/0"},{"type":"type","title":"Fields - GameServer.Types.user_update_attrs/0","doc":"* `:display_name` - User's display name\n  * `:metadata` - Arbitrary key-value data stored with the user\n  * `:is_admin` - Whether the user has admin privileges","ref":"GameServer.Types.html#t:user_update_attrs/0-fields"},{"type":"type","title":"Example - GameServer.Types.user_update_attrs/0","doc":"update_user(user, %{\n      display_name: \"New Name\",\n      metadata: %{level: 5, xp: 1200}\n    })","ref":"GameServer.Types.html#t:user_update_attrs/0-example"},{"type":"module","title":"GameServer.Accounts","doc":"The Accounts context.","ref":"GameServer.Accounts.html"},{"type":"function","title":"GameServer.Accounts.attach_device_to_user/2","doc":"Attach a device_id to an existing user record. Returns {:ok, user} or\n{:error, changeset} if the device_id is already used.","ref":"GameServer.Accounts.html#attach_device_to_user/2"},{"type":"function","title":"GameServer.Accounts.broadcast_user_update/1","doc":"Broadcast that the given user has been updated.\n\nThis helper is intentionally small and only broadcasts a compact payload\nintended for client consumption through the `user: ` topic.","ref":"GameServer.Accounts.html#broadcast_user_update/1"},{"type":"function","title":"GameServer.Accounts.change_user_display_name/2","doc":"Returns an `%Ecto.Changeset{}` for changing the user display_name.","ref":"GameServer.Accounts.html#change_user_display_name/2"},{"type":"function","title":"GameServer.Accounts.change_user_email/3","doc":"Returns an `%Ecto.Changeset{}` for changing the user email.\n\nSee `GameServer.Accounts.User.email_changeset/3` for a list of supported options.","ref":"GameServer.Accounts.html#change_user_email/3"},{"type":"function","title":"Examples - GameServer.Accounts.change_user_email/3","doc":"iex> change_user_email(user)\n    %Ecto.Changeset{data: %User{}}","ref":"GameServer.Accounts.html#change_user_email/3-examples"},{"type":"function","title":"GameServer.Accounts.change_user_password/3","doc":"Returns an `%Ecto.Changeset{}` for changing the user password.\n\nSee `GameServer.Accounts.User.password_changeset/3` for a list of supported options.","ref":"GameServer.Accounts.html#change_user_password/3"},{"type":"function","title":"Examples - GameServer.Accounts.change_user_password/3","doc":"iex> change_user_password(user)\n    %Ecto.Changeset{data: %User{}}","ref":"GameServer.Accounts.html#change_user_password/3-examples"},{"type":"function","title":"GameServer.Accounts.change_user_registration/2","doc":"","ref":"GameServer.Accounts.html#change_user_registration/2"},{"type":"function","title":"GameServer.Accounts.confirm_user/1","doc":"Confirms a user's email by setting confirmed_at timestamp.","ref":"GameServer.Accounts.html#confirm_user/1"},{"type":"function","title":"Examples - GameServer.Accounts.confirm_user/1","doc":"iex> confirm_user(user)\n    {:ok, %User{}}","ref":"GameServer.Accounts.html#confirm_user/1-examples"},{"type":"function","title":"GameServer.Accounts.confirm_user_by_token/1","doc":"Confirm a user by an email confirmation token (context: \"confirm\").\n\nReturns {:ok, user} when the token is valid and user was confirmed.\nReturns {:error, :not_found} or {:error, :expired} when token is invalid/expired.","ref":"GameServer.Accounts.html#confirm_user_by_token/1"},{"type":"function","title":"GameServer.Accounts.count_search_users/1","doc":"Count users matching a text query (email or display_name). Returns integer.","ref":"GameServer.Accounts.html#count_search_users/1"},{"type":"function","title":"GameServer.Accounts.delete_user/1","doc":"Deletes a user and associated resources.\n\nReturns `{:ok, user}` on success or `{:error, changeset}` on failure.","ref":"GameServer.Accounts.html#delete_user/1"},{"type":"function","title":"GameServer.Accounts.delete_user_session_token/1","doc":"Deletes the signed token with the given context.","ref":"GameServer.Accounts.html#delete_user_session_token/1"},{"type":"function","title":"GameServer.Accounts.deliver_login_instructions/2","doc":"Delivers the magic link login instructions to the given user.","ref":"GameServer.Accounts.html#deliver_login_instructions/2"},{"type":"function","title":"GameServer.Accounts.deliver_user_confirmation_instructions/2","doc":"","ref":"GameServer.Accounts.html#deliver_user_confirmation_instructions/2"},{"type":"function","title":"GameServer.Accounts.deliver_user_update_email_instructions/3","doc":"Delivers the update email instructions to the given user.","ref":"GameServer.Accounts.html#deliver_user_update_email_instructions/3"},{"type":"function","title":"Examples - GameServer.Accounts.deliver_user_update_email_instructions/3","doc":"iex> deliver_user_update_email_instructions(user, current_email, &url(~p\"/users/settings/confirm-email/#{&1}\"))\n    {:ok, %{to: ..., body: ...}}","ref":"GameServer.Accounts.html#deliver_user_update_email_instructions/3-examples"},{"type":"function","title":"GameServer.Accounts.detach_device_from_user/1","doc":"Clears a device_id from the user if present. Returns {:ok, user} or\n{:error, changeset} if update fails.","ref":"GameServer.Accounts.html#detach_device_from_user/1"},{"type":"function","title":"GameServer.Accounts.device_auth_enabled?/0","doc":"Returns true when device-based auth is enabled. This checks the\napplication config `:game_server, :device_auth_enabled` and falls back\nto the environment variable `DEVICE_AUTH_ENABLED`. If neither\nis set, device auth is enabled by default.","ref":"GameServer.Accounts.html#device_auth_enabled?/0"},{"type":"function","title":"GameServer.Accounts.find_or_create_from_apple/1","doc":"Finds a user by Apple ID or creates a new user from OAuth data.","ref":"GameServer.Accounts.html#find_or_create_from_apple/1"},{"type":"function","title":"Examples - GameServer.Accounts.find_or_create_from_apple/1","doc":"iex> find_or_create_from_apple(%{apple_id: \"123\", email: \"user@example.com\"})\n    {:ok, %User{}}","ref":"GameServer.Accounts.html#find_or_create_from_apple/1-examples"},{"type":"function","title":"GameServer.Accounts.find_or_create_from_device/2","doc":"Finds or creates a user associated with the given device_id.\n\nIf a user already exists with the device_id we return it. Otherwise we\ncreate an anonymous confirmed user and attach the device_id.","ref":"GameServer.Accounts.html#find_or_create_from_device/2"},{"type":"function","title":"GameServer.Accounts.find_or_create_from_discord/1","doc":"Finds a user by Discord ID or creates a new user from OAuth data.","ref":"GameServer.Accounts.html#find_or_create_from_discord/1"},{"type":"function","title":"Examples - GameServer.Accounts.find_or_create_from_discord/1","doc":"iex> find_or_create_from_discord(%{discord_id: \"123\", email: \"user@example.com\"})\n    {:ok, %User{}}","ref":"GameServer.Accounts.html#find_or_create_from_discord/1-examples"},{"type":"function","title":"GameServer.Accounts.find_or_create_from_facebook/1","doc":"Finds a user by Facebook ID or creates a new user from OAuth data.","ref":"GameServer.Accounts.html#find_or_create_from_facebook/1"},{"type":"function","title":"Examples - GameServer.Accounts.find_or_create_from_facebook/1","doc":"iex> find_or_create_from_facebook(%{facebook_id: \"123\", email: \"user@example.com\"})\n    {:ok, %User{}}","ref":"GameServer.Accounts.html#find_or_create_from_facebook/1-examples"},{"type":"function","title":"GameServer.Accounts.find_or_create_from_google/1","doc":"Finds a user by Google ID or creates a new user from OAuth data.","ref":"GameServer.Accounts.html#find_or_create_from_google/1"},{"type":"function","title":"Examples - GameServer.Accounts.find_or_create_from_google/1","doc":"iex> find_or_create_from_google(%{google_id: \"123\", email: \"user@example.com\"})\n    {:ok, %User{}}","ref":"GameServer.Accounts.html#find_or_create_from_google/1-examples"},{"type":"function","title":"GameServer.Accounts.find_or_create_from_steam/1","doc":"Finds a user by Steam ID or creates a new user from Steam OpenID data.","ref":"GameServer.Accounts.html#find_or_create_from_steam/1"},{"type":"function","title":"Examples - GameServer.Accounts.find_or_create_from_steam/1","doc":"iex> find_or_create_from_steam(%{steam_id: \"12345\", email: \"user@example.com\"})\n    {:ok, %User{}}","ref":"GameServer.Accounts.html#find_or_create_from_steam/1-examples"},{"type":"function","title":"GameServer.Accounts.generate_user_session_token/1","doc":"Generates a session token.","ref":"GameServer.Accounts.html#generate_user_session_token/1"},{"type":"function","title":"GameServer.Accounts.get_user/1","doc":"Gets a single user by ID.\n\nReturns `nil` if the User does not exist.","ref":"GameServer.Accounts.html#get_user/1"},{"type":"function","title":"Examples - GameServer.Accounts.get_user/1","doc":"iex> get_user(123)\n    %User{}\n\n    iex> get_user(456)\n    nil","ref":"GameServer.Accounts.html#get_user/1-examples"},{"type":"function","title":"GameServer.Accounts.get_user!/1","doc":"Gets a single user.\n\nRaises `Ecto.NoResultsError` if the User does not exist.","ref":"GameServer.Accounts.html#get_user!/1"},{"type":"function","title":"Examples - GameServer.Accounts.get_user!/1","doc":"iex> get_user!(123)\n    %User{}\n\n    iex> get_user!(456)\n    ** (Ecto.NoResultsError)","ref":"GameServer.Accounts.html#get_user!/1-examples"},{"type":"function","title":"GameServer.Accounts.get_user_by_apple_id/1","doc":"Get a user by their Apple ID.\n\nReturns `%User{}` or `nil`.","ref":"GameServer.Accounts.html#get_user_by_apple_id/1"},{"type":"function","title":"GameServer.Accounts.get_user_by_discord_id/1","doc":"Get a user by their Discord ID.\n\nReturns `%User{}` or `nil`.","ref":"GameServer.Accounts.html#get_user_by_discord_id/1"},{"type":"function","title":"GameServer.Accounts.get_user_by_email/1","doc":"Gets a user by email.","ref":"GameServer.Accounts.html#get_user_by_email/1"},{"type":"function","title":"Examples - GameServer.Accounts.get_user_by_email/1","doc":"iex> get_user_by_email(\"foo@example.com\")\n    %User{}\n\n    iex> get_user_by_email(\"unknown@example.com\")\n    nil","ref":"GameServer.Accounts.html#get_user_by_email/1-examples"},{"type":"function","title":"GameServer.Accounts.get_user_by_email_and_password/2","doc":"Gets a user by email and password.","ref":"GameServer.Accounts.html#get_user_by_email_and_password/2"},{"type":"function","title":"Examples - GameServer.Accounts.get_user_by_email_and_password/2","doc":"iex> get_user_by_email_and_password(\"foo@example.com\", \"correct_password\")\n    %User{}\n\n    iex> get_user_by_email_and_password(\"foo@example.com\", \"invalid_password\")\n    nil","ref":"GameServer.Accounts.html#get_user_by_email_and_password/2-examples"},{"type":"function","title":"GameServer.Accounts.get_user_by_facebook_id/1","doc":"Get a user by their Facebook ID.\n\nReturns `%User{}` or `nil`.","ref":"GameServer.Accounts.html#get_user_by_facebook_id/1"},{"type":"function","title":"GameServer.Accounts.get_user_by_google_id/1","doc":"Get a user by their Google ID.\n\nReturns `%User{}` or `nil`.","ref":"GameServer.Accounts.html#get_user_by_google_id/1"},{"type":"function","title":"GameServer.Accounts.get_user_by_magic_link_token/1","doc":"Gets the user with the given magic link token.","ref":"GameServer.Accounts.html#get_user_by_magic_link_token/1"},{"type":"function","title":"GameServer.Accounts.get_user_by_session_token/1","doc":"Gets the user with the given signed token.\n\nIf the token is valid `{user, token_inserted_at}` is returned, otherwise `nil` is returned.","ref":"GameServer.Accounts.html#get_user_by_session_token/1"},{"type":"function","title":"GameServer.Accounts.get_user_by_steam_id/1","doc":"Get a user by their Steam ID (steam_id).\n\nReturns `%User{}` or `nil`.","ref":"GameServer.Accounts.html#get_user_by_steam_id/1"},{"type":"function","title":"GameServer.Accounts.link_account/4","doc":"Link an OAuth provider to an existing user account. Updates the user\nvia the provider's oauth changeset while being careful not to overwrite\nexisting email or avatars.\n\nExample: link_account(user, %{discord_id: \"123\", profile_url: \"https://...\"}, :discord_id, &User.discord_oauth_changeset/2)","ref":"GameServer.Accounts.html#link_account/4"},{"type":"function","title":"GameServer.Accounts.login_user_by_magic_link/1","doc":"Logs the user in by magic link.\n\nThere are three cases to consider:\n\n1. The user has already confirmed their email. They are logged in\n   and the magic link is expired.\n\n2. The user has not confirmed their email and no password is set.\n   In this case, the user gets confirmed, logged in, and all tokens -\n   including session ones - are expired. In theory, no other tokens\n   exist but we delete all of them for best security practices.\n\n3. The user has not confirmed their email but a password is set.\n   This cannot happen in the default implementation but may be the\n   source of security pitfalls. See the \"Mixing magic link and password registration\" section of\n   `mix help phx.gen.auth`.","ref":"GameServer.Accounts.html#login_user_by_magic_link/1"},{"type":"function","title":"GameServer.Accounts.register_user/1","doc":"Registers a user.","ref":"GameServer.Accounts.html#register_user/1"},{"type":"function","title":"Attributes - GameServer.Accounts.register_user/1","doc":"See `GameServer.Types.user_registration_attrs/0` for available fields.","ref":"GameServer.Accounts.html#register_user/1-attributes"},{"type":"function","title":"Examples - GameServer.Accounts.register_user/1","doc":"iex> register_user(%{email: \"user@example.com\", password: \"secret123\"})\n    {:ok, %User{}}\n\n    iex> register_user(%{email: \"invalid\"})\n    {:error, %Ecto.Changeset{}}","ref":"GameServer.Accounts.html#register_user/1-examples"},{"type":"function","title":"GameServer.Accounts.register_user_and_deliver/3","doc":"Register a user and send the confirmation email inside a DB transaction.\n\nThe function accepts a `confirmation_url_fun` which must be a function of arity 1\nthat receives the encoded token and returns the confirmation URL string.\n\nIf sending the confirmation email fails the transaction is rolled back and\n`{:error, reason}` is returned. On success it returns `{:ok, user}`.","ref":"GameServer.Accounts.html#register_user_and_deliver/3"},{"type":"function","title":"GameServer.Accounts.search_users/2","doc":"Search users by email or display name (case-insensitive, partial match).\n\nReturns a list of User structs.","ref":"GameServer.Accounts.html#search_users/2"},{"type":"function","title":"Options - GameServer.Accounts.search_users/2","doc":"See `GameServer.Types.pagination_opts/0` for available options.","ref":"GameServer.Accounts.html#search_users/2-options"},{"type":"function","title":"GameServer.Accounts.sudo_mode?/2","doc":"Checks whether the user is in sudo mode.\n\nThe user is in sudo mode when the last authentication was done no further\nthan 20 minutes ago. The limit can be given as second argument in minutes.","ref":"GameServer.Accounts.html#sudo_mode?/2"},{"type":"function","title":"GameServer.Accounts.unlink_provider/2","doc":"Unlink an OAuth provider from a user's account.\n\nprovider should be one of :discord, :apple, :google, :facebook.\nThis will return {:ok, user} when successful or {:error, reason}.\n\nGuard: we only allow unlinking when the user will still have at least\none other social provider remaining. This prevents users losing all\nsocial logins unexpectedly.","ref":"GameServer.Accounts.html#unlink_provider/2"},{"type":"function","title":"GameServer.Accounts.update_user/2","doc":"Updates a user with the given attributes.\n\nThis function applies the `User.admin_changeset/2` then updates the user and\nbroadcasts the update on success. It returns the same tuple shape as\n`Repo.update/1` so callers can pattern-match as before.","ref":"GameServer.Accounts.html#update_user/2"},{"type":"function","title":"Attributes - GameServer.Accounts.update_user/2","doc":"See `GameServer.Types.user_update_attrs/0` for available fields.","ref":"GameServer.Accounts.html#update_user/2-attributes"},{"type":"function","title":"Examples - GameServer.Accounts.update_user/2","doc":"iex> update_user(user, %{display_name: \"NewName\"})\n    {:ok, %User{}}\n\n    iex> update_user(user, %{metadata: %{level: 5}})\n    {:ok, %User{}}","ref":"GameServer.Accounts.html#update_user/2-examples"},{"type":"function","title":"GameServer.Accounts.update_user_display_name/2","doc":"Updates the user's display name and broadcasts the change.","ref":"GameServer.Accounts.html#update_user_display_name/2"},{"type":"function","title":"GameServer.Accounts.update_user_email/2","doc":"Updates the user email using the given token.\n\nIf the token matches, the user email is updated and the token is deleted.","ref":"GameServer.Accounts.html#update_user_email/2"},{"type":"function","title":"GameServer.Accounts.update_user_password/2","doc":"Updates the user password.\n\nReturns a tuple with the updated user, as well as a list of expired tokens.","ref":"GameServer.Accounts.html#update_user_password/2"},{"type":"function","title":"Examples - GameServer.Accounts.update_user_password/2","doc":"iex> update_user_password(user, %{password: ...})\n    {:ok, {%User{}, [...]}}\n\n    iex> update_user_password(user, %{password: \"too short\"})\n    {:error, %Ecto.Changeset{}}","ref":"GameServer.Accounts.html#update_user_password/2-examples"},{"type":"module","title":"GameServer.Friends","doc":"Friends context - handles friend requests and relationships.\n\nBasic semantics:\n- A single `friendships` row represents a directed request from requester -> target.\n- status: \"pending\" | \"accepted\" | \"rejected\" | \"blocked\"\n- When a user accepts a pending incoming request, that request becomes `accepted`.\n  If a reverse pending request exists, it will be removed to avoid duplicate rows.\n- Listing friends returns the other user from rows with status `accepted` in either\n  direction.","ref":"GameServer.Friends.html"},{"type":"function","title":"GameServer.Friends.accept_friend_request/2","doc":"Accept a friend request (only the target may accept). Returns {:ok, friendship}.","ref":"GameServer.Friends.html#accept_friend_request/2"},{"type":"function","title":"GameServer.Friends.block_friend_request/2","doc":"Block an incoming request (only the target may block). Returns {:ok, friendship} with status \"blocked\".","ref":"GameServer.Friends.html#block_friend_request/2"},{"type":"function","title":"GameServer.Friends.cancel_request/2","doc":"Cancel an outgoing friend request (only the requester may cancel).","ref":"GameServer.Friends.html#cancel_request/2"},{"type":"function","title":"GameServer.Friends.count_blocked_for_user/1","doc":"Count blocked friendships for a user (number of blocked rows where user is target).","ref":"GameServer.Friends.html#count_blocked_for_user/1"},{"type":"function","title":"GameServer.Friends.count_friends_for_user/1","doc":"Count accepted friends for a given user (distinct other user ids).","ref":"GameServer.Friends.html#count_friends_for_user/1"},{"type":"function","title":"GameServer.Friends.count_incoming_requests/1","doc":"Count incoming pending friend requests for a user.","ref":"GameServer.Friends.html#count_incoming_requests/1"},{"type":"function","title":"GameServer.Friends.count_outgoing_requests/1","doc":"Count outgoing pending friend requests for a user.","ref":"GameServer.Friends.html#count_outgoing_requests/1"},{"type":"function","title":"GameServer.Friends.create_request/2","doc":"Create a friend request from requester -> target.\n  If a reverse pending request exists (target -> requester) it will be accepted instead.\n  Returns {:ok, friendship} on success or {:error, reason}.","ref":"GameServer.Friends.html#create_request/2"},{"type":"function","title":"GameServer.Friends.get_by_pair/2","doc":"Get friendship between two users (ordered requester->target) if exists","ref":"GameServer.Friends.html#get_by_pair/2"},{"type":"function","title":"GameServer.Friends.get_friendship!/1","doc":"Get friendship by id","ref":"GameServer.Friends.html#get_friendship!/1"},{"type":"function","title":"GameServer.Friends.list_blocked_for_user/2","doc":"List blocked friendships for a user (Friendship structs where the user is the blocker / target).","ref":"GameServer.Friends.html#list_blocked_for_user/2"},{"type":"function","title":"GameServer.Friends.list_friends_for_user/2","doc":"List accepted friends for a given user id - returns list of User structs.","ref":"GameServer.Friends.html#list_friends_for_user/2"},{"type":"function","title":"Options - GameServer.Friends.list_friends_for_user/2","doc":"See `GameServer.Types.pagination_opts/0` for available options.","ref":"GameServer.Friends.html#list_friends_for_user/2-options"},{"type":"function","title":"GameServer.Friends.list_incoming_requests/2","doc":"List incoming pending friend requests for a user (Friendship structs).","ref":"GameServer.Friends.html#list_incoming_requests/2"},{"type":"function","title":"Options - GameServer.Friends.list_incoming_requests/2","doc":"See `GameServer.Types.pagination_opts/0` for available options.","ref":"GameServer.Friends.html#list_incoming_requests/2-options"},{"type":"function","title":"GameServer.Friends.list_outgoing_requests/2","doc":"List outgoing pending friend requests for a user (Friendship structs).","ref":"GameServer.Friends.html#list_outgoing_requests/2"},{"type":"function","title":"Options - GameServer.Friends.list_outgoing_requests/2","doc":"See `GameServer.Types.pagination_opts/0` for available options.","ref":"GameServer.Friends.html#list_outgoing_requests/2-options"},{"type":"function","title":"GameServer.Friends.reject_friend_request/2","doc":"Reject a friend request (only the target may reject). Returns {:ok, friendship}.","ref":"GameServer.Friends.html#reject_friend_request/2"},{"type":"function","title":"GameServer.Friends.remove_friend/2","doc":"Remove a friendship (either direction) - only participating users may call this.","ref":"GameServer.Friends.html#remove_friend/2"},{"type":"function","title":"GameServer.Friends.subscribe_user/1","doc":"","ref":"GameServer.Friends.html#subscribe_user/1"},{"type":"function","title":"GameServer.Friends.unblock_friendship/2","doc":"Unblock a previously-blocked friendship (only the user who blocked may unblock). Returns {:ok, :unblocked} on success.","ref":"GameServer.Friends.html#unblock_friendship/2"},{"type":"function","title":"GameServer.Friends.unsubscribe_user/1","doc":"","ref":"GameServer.Friends.html#unsubscribe_user/1"},{"type":"behaviour","title":"GameServer.Hooks","doc":"Behaviour for application-level hooks / callbacks.\n\nImplement this behaviour to receive lifecycle events from core flows\n(registration, login, provider linking, deletion) and run custom logic.\n\nA module implementing this behaviour can be configured with\n\n    config :game_server, :hooks_module, MyApp.HooksImpl\n\nThe default implementation is a no-op.","ref":"GameServer.Hooks.html"},{"type":"type","title":"GameServer.Hooks.hook_result/1","doc":"","ref":"GameServer.Hooks.html#t:hook_result/1"},{"type":"callback","title":"GameServer.Hooks.after_lobby_create/1","doc":"","ref":"GameServer.Hooks.html#c:after_lobby_create/1"},{"type":"callback","title":"GameServer.Hooks.after_lobby_delete/1","doc":"","ref":"GameServer.Hooks.html#c:after_lobby_delete/1"},{"type":"callback","title":"GameServer.Hooks.after_lobby_host_change/2","doc":"","ref":"GameServer.Hooks.html#c:after_lobby_host_change/2"},{"type":"callback","title":"GameServer.Hooks.after_lobby_join/2","doc":"","ref":"GameServer.Hooks.html#c:after_lobby_join/2"},{"type":"callback","title":"GameServer.Hooks.after_lobby_leave/2","doc":"","ref":"GameServer.Hooks.html#c:after_lobby_leave/2"},{"type":"callback","title":"GameServer.Hooks.after_lobby_update/1","doc":"","ref":"GameServer.Hooks.html#c:after_lobby_update/1"},{"type":"callback","title":"GameServer.Hooks.after_user_kicked/3","doc":"","ref":"GameServer.Hooks.html#c:after_user_kicked/3"},{"type":"callback","title":"GameServer.Hooks.after_user_login/1","doc":"","ref":"GameServer.Hooks.html#c:after_user_login/1"},{"type":"callback","title":"GameServer.Hooks.after_user_register/1","doc":"","ref":"GameServer.Hooks.html#c:after_user_register/1"},{"type":"callback","title":"GameServer.Hooks.before_lobby_create/1","doc":"","ref":"GameServer.Hooks.html#c:before_lobby_create/1"},{"type":"callback","title":"GameServer.Hooks.before_lobby_delete/1","doc":"","ref":"GameServer.Hooks.html#c:before_lobby_delete/1"},{"type":"callback","title":"GameServer.Hooks.before_lobby_join/3","doc":"","ref":"GameServer.Hooks.html#c:before_lobby_join/3"},{"type":"callback","title":"GameServer.Hooks.before_lobby_leave/2","doc":"","ref":"GameServer.Hooks.html#c:before_lobby_leave/2"},{"type":"callback","title":"GameServer.Hooks.before_lobby_update/2","doc":"","ref":"GameServer.Hooks.html#c:before_lobby_update/2"},{"type":"callback","title":"GameServer.Hooks.before_user_kicked/3","doc":"","ref":"GameServer.Hooks.html#c:before_user_kicked/3"},{"type":"function","title":"GameServer.Hooks.call/3","doc":"Call an arbitrary function exported by the configured hooks module.\n\nThis is a safe wrapper that checks function existence, enforces an allow-list\nif configured and runs the call inside a short Task with a configurable\ntimeout to avoid long-running user code.\n\nReturns {:ok, result} | {:error, reason}","ref":"GameServer.Hooks.html#call/3"},{"type":"function","title":"GameServer.Hooks.caller/0","doc":"When a hooks function is executed via `call/3` or `internal_call/3`, an\noptional `:caller` can be provided in the options. The caller will be\ninjected into the spawned task's process dictionary and is accessible via\n`GameServer.Hooks.caller/0` (the raw value) or `caller_id/0` (the numeric id\nwhen the value is a user struct or map containing `:id`).","ref":"GameServer.Hooks.html#caller/0"},{"type":"function","title":"GameServer.Hooks.caller_id/0","doc":"","ref":"GameServer.Hooks.html#caller_id/0"},{"type":"function","title":"GameServer.Hooks.caller_user/0","doc":"Return the user struct for the current caller when available. This will\n  attempt to resolve the caller via GameServer.Accounts.get_user!/1 when the\n  caller is an integer id or a map containing an `:id` key. Returns nil when\n  no caller or user is found.","ref":"GameServer.Hooks.html#caller_user/0"},{"type":"function","title":"GameServer.Hooks.exported_functions/0","doc":"Return a list of exported functions on the currently registered hooks module.\n\nThe result is a list of maps like: [%{name: \"start_game\", arities: [2,3]}, ...]\nThis is useful for tooling and admin UI to display what RPCs are available.","ref":"GameServer.Hooks.html#exported_functions/0"},{"type":"function","title":"GameServer.Hooks.internal_call/3","doc":"Call an internal lifecycle callback. When a callback is missing this\n  returns a sensible default (eg. {:ok, attrs} for before callbacks) so\n  domain code doesn't need to handle missing hooks specially in most cases.","ref":"GameServer.Hooks.html#internal_call/3"},{"type":"function","title":"GameServer.Hooks.module/0","doc":"Return the configured module that implements the hooks behaviour.","ref":"GameServer.Hooks.html#module/0"},{"type":"function","title":"GameServer.Hooks.register_file/1","doc":"Register a module from a source file at runtime. We capture any\ncompiler output (warnings or compile-time prints) and record a\ntimestamp and status (ok, ok_with_warnings, error) in application\nenvironment so the admin UI can display diagnostics.","ref":"GameServer.Hooks.html#register_file/1"},{"type":"module","title":"GameServer.Leaderboards","doc":"The Leaderboards context.\n\nProvides server-authoritative leaderboard management. Scores can only be\nsubmitted via server-side code — there is no public API for score submission.","ref":"GameServer.Leaderboards.html"},{"type":"module","title":"Usage - GameServer.Leaderboards","doc":"# Create a leaderboard\n    {:ok, lb} = Leaderboards.create_leaderboard(%{\n      id: \"weekly_kills_w49\",\n      title: \"Weekly Kills - Week 49\",\n      sort_order: :desc,\n      operator: :incr\n    })\n\n    # Submit score (server-only)\n    {:ok, record} = Leaderboards.submit_score(\"weekly_kills_w49\", user_id, 10)\n\n    # List records with rank\n    records = Leaderboards.list_records(\"weekly_kills_w49\", page: 1, limit: 25)\n\n    # Get user's record\n    {:ok, record} = Leaderboards.get_user_record(\"weekly_kills_w49\", user_id)","ref":"GameServer.Leaderboards.html#module-usage"},{"type":"function","title":"GameServer.Leaderboards.change_leaderboard/2","doc":"Returns a changeset for a leaderboard (used in forms).","ref":"GameServer.Leaderboards.html#change_leaderboard/2"},{"type":"function","title":"GameServer.Leaderboards.change_record/2","doc":"Returns a changeset for a record (used in admin forms).","ref":"GameServer.Leaderboards.html#change_record/2"},{"type":"function","title":"GameServer.Leaderboards.count_leaderboards/1","doc":"Counts leaderboards matching the given filters.","ref":"GameServer.Leaderboards.html#count_leaderboards/1"},{"type":"function","title":"GameServer.Leaderboards.count_records/1","doc":"Counts records for a leaderboard.","ref":"GameServer.Leaderboards.html#count_records/1"},{"type":"function","title":"GameServer.Leaderboards.create_leaderboard/1","doc":"Creates a new leaderboard.","ref":"GameServer.Leaderboards.html#create_leaderboard/1"},{"type":"function","title":"Attributes - GameServer.Leaderboards.create_leaderboard/1","doc":"See `GameServer.Types.leaderboard_create_attrs/0` for available fields.","ref":"GameServer.Leaderboards.html#create_leaderboard/1-attributes"},{"type":"function","title":"Examples - GameServer.Leaderboards.create_leaderboard/1","doc":"iex> create_leaderboard(%{id: \"my_lb\", title: \"My Leaderboard\"})\n    {:ok, %Leaderboard{}}\n\n    iex> create_leaderboard(%{id: \"\", title: \"\"})\n    {:error, %Ecto.Changeset{}}","ref":"GameServer.Leaderboards.html#create_leaderboard/1-examples"},{"type":"function","title":"GameServer.Leaderboards.delete_leaderboard/1","doc":"Deletes a leaderboard and all its records.","ref":"GameServer.Leaderboards.html#delete_leaderboard/1"},{"type":"function","title":"GameServer.Leaderboards.delete_record/1","doc":"Deletes a record.","ref":"GameServer.Leaderboards.html#delete_record/1"},{"type":"function","title":"GameServer.Leaderboards.delete_user_record/2","doc":"Deletes a user's record from a leaderboard.","ref":"GameServer.Leaderboards.html#delete_user_record/2"},{"type":"function","title":"GameServer.Leaderboards.end_leaderboard/1","doc":"Ends a leaderboard by setting `ends_at` to the current time.","ref":"GameServer.Leaderboards.html#end_leaderboard/1"},{"type":"function","title":"GameServer.Leaderboards.get_leaderboard/1","doc":"Gets a leaderboard by ID. Returns `nil` if not found.","ref":"GameServer.Leaderboards.html#get_leaderboard/1"},{"type":"function","title":"GameServer.Leaderboards.get_leaderboard!/1","doc":"Gets a leaderboard by ID. Raises if not found.","ref":"GameServer.Leaderboards.html#get_leaderboard!/1"},{"type":"function","title":"GameServer.Leaderboards.get_record/2","doc":"Gets a single record by leaderboard and user ID.","ref":"GameServer.Leaderboards.html#get_record/2"},{"type":"function","title":"GameServer.Leaderboards.get_user_record/2","doc":"Gets a user's record with their rank.\nReturns `{:ok, record_with_rank}` or `{:error, :not_found}`.","ref":"GameServer.Leaderboards.html#get_user_record/2"},{"type":"function","title":"GameServer.Leaderboards.list_leaderboards/1","doc":"Lists leaderboards with optional filters.","ref":"GameServer.Leaderboards.html#list_leaderboards/1"},{"type":"function","title":"Options - GameServer.Leaderboards.list_leaderboards/1","doc":"* `:active` - If `true`, only active leaderboards. If `false`, only ended.\n  * `:page` - Page number (default 1)\n  * `:page_size` - Page size (default 25)","ref":"GameServer.Leaderboards.html#list_leaderboards/1-options"},{"type":"function","title":"Examples - GameServer.Leaderboards.list_leaderboards/1","doc":"iex> list_leaderboards(active: true)\n    [%Leaderboard{}, ...]","ref":"GameServer.Leaderboards.html#list_leaderboards/1-examples"},{"type":"function","title":"GameServer.Leaderboards.list_records/2","doc":"Lists records for a leaderboard, ordered by rank.","ref":"GameServer.Leaderboards.html#list_records/2"},{"type":"function","title":"Options - GameServer.Leaderboards.list_records/2","doc":"See `GameServer.Types.pagination_opts/0` for available options.\n\nReturns records with `rank` field populated.","ref":"GameServer.Leaderboards.html#list_records/2-options"},{"type":"function","title":"GameServer.Leaderboards.list_records_around_user/3","doc":"Lists records around a specific user (centered on their position).\n\nReturns records above and below the user's rank.","ref":"GameServer.Leaderboards.html#list_records_around_user/3"},{"type":"function","title":"Options - GameServer.Leaderboards.list_records_around_user/3","doc":"* `:limit` - Total number of records to return (default 11, centered on user)","ref":"GameServer.Leaderboards.html#list_records_around_user/3-options"},{"type":"function","title":"GameServer.Leaderboards.submit_score/4","doc":"Submits a score for a user on a leaderboard.\n\nThis is a server-only function — there is no public API for score submission.\nThe score is processed according to the leaderboard's operator:\n\n  * `:set` — Always replace with new score\n  * `:best` — Only update if new score is better (respects sort_order)\n  * `:incr` — Add to existing score\n  * `:decr` — Subtract from existing score","ref":"GameServer.Leaderboards.html#submit_score/4"},{"type":"function","title":"Examples - GameServer.Leaderboards.submit_score/4","doc":"iex> submit_score(\"weekly_kills\", user_id, 10)\n    {:ok, %Record{score: 10}}\n\n    iex> submit_score(\"weekly_kills\", user_id, 5, %{weapon: \"sword\"})\n    {:ok, %Record{score: 15, metadata: %{weapon: \"sword\"}}}","ref":"GameServer.Leaderboards.html#submit_score/4-examples"},{"type":"function","title":"GameServer.Leaderboards.update_leaderboard/2","doc":"Updates an existing leaderboard.\n\nNote: `id`, `sort_order`, and `operator` cannot be changed after creation.","ref":"GameServer.Leaderboards.html#update_leaderboard/2"},{"type":"function","title":"Attributes - GameServer.Leaderboards.update_leaderboard/2","doc":"See `GameServer.Types.leaderboard_update_attrs/0` for available fields.","ref":"GameServer.Leaderboards.html#update_leaderboard/2-attributes"},{"type":"module","title":"GameServer.Lobbies","doc":"Context module for lobby management: creating, updating, listing and searching lobbies.\n\nThis module contains the core domain operations; more advanced membership and\npermission logic will be added in follow-up tasks.","ref":"GameServer.Lobbies.html"},{"type":"module","title":"PubSub Events - GameServer.Lobbies","doc":"This module broadcasts the following events:\n\n- `\"lobbies\"` topic (global lobby list changes):\n  - `{:lobby_created, lobby}` - a new lobby was created\n  - `{:lobby_updated, lobby}` - a lobby was updated\n  - `{:lobby_deleted, lobby_id}` - a lobby was deleted\n\n- `\"lobby: \"` topic (per-lobby membership changes):\n  - `{:user_joined, lobby_id, user_id}` - a user joined the lobby\n  - `{:user_left, lobby_id, user_id}` - a user left the lobby\n  - `{:user_kicked, lobby_id, user_id}` - a user was kicked from the lobby\n  - `{:lobby_updated, lobby}` - the lobby settings were updated\n  - `{:host_changed, lobby_id, new_host_id}` - the host changed (e.g., after host leaves)","ref":"GameServer.Lobbies.html#module-pubsub-events"},{"type":"function","title":"GameServer.Lobbies.can_edit_lobby?/2","doc":"Check if a user can edit a lobby (is host or lobby is hostless).","ref":"GameServer.Lobbies.html#can_edit_lobby?/2"},{"type":"function","title":"GameServer.Lobbies.can_view_lobby?/2","doc":"Check if a user can view a lobby's details.\nUsers can view any lobby they can see in the list.","ref":"GameServer.Lobbies.html#can_view_lobby?/2"},{"type":"function","title":"GameServer.Lobbies.change_lobby/2","doc":"","ref":"GameServer.Lobbies.html#change_lobby/2"},{"type":"function","title":"GameServer.Lobbies.count_list_all_lobbies/1","doc":"Count ALL lobbies matching filters. For admin pagination.","ref":"GameServer.Lobbies.html#count_list_all_lobbies/1"},{"type":"function","title":"GameServer.Lobbies.count_list_lobbies/1","doc":"Count lobbies matching filters (excludes hidden ones unless admin list used). If metadata filters are supplied, they will be applied after fetching.","ref":"GameServer.Lobbies.html#count_list_lobbies/1"},{"type":"function","title":"GameServer.Lobbies.create_lobby/1","doc":"Creates a new lobby.","ref":"GameServer.Lobbies.html#create_lobby/1"},{"type":"function","title":"Attributes - GameServer.Lobbies.create_lobby/1","doc":"See `GameServer.Types.lobby_create_attrs/0` for available fields.","ref":"GameServer.Lobbies.html#create_lobby/1-attributes"},{"type":"function","title":"GameServer.Lobbies.create_membership/1","doc":"","ref":"GameServer.Lobbies.html#create_membership/1"},{"type":"function","title":"GameServer.Lobbies.delete_lobby/1","doc":"","ref":"GameServer.Lobbies.html#delete_lobby/1"},{"type":"function","title":"GameServer.Lobbies.delete_membership/1","doc":"","ref":"GameServer.Lobbies.html#delete_membership/1"},{"type":"function","title":"GameServer.Lobbies.get_lobby/1","doc":"","ref":"GameServer.Lobbies.html#get_lobby/1"},{"type":"function","title":"GameServer.Lobbies.get_lobby!/1","doc":"","ref":"GameServer.Lobbies.html#get_lobby!/1"},{"type":"function","title":"GameServer.Lobbies.get_lobby_members/1","doc":"Gets all users currently in a lobby.\n\nReturns a list of User structs.","ref":"GameServer.Lobbies.html#get_lobby_members/1"},{"type":"function","title":"Examples - GameServer.Lobbies.get_lobby_members/1","doc":"iex> get_lobby_members(lobby)\n    [%User{}, %User{}]\n\n    iex> get_lobby_members(lobby_id)\n    [%User{}]","ref":"GameServer.Lobbies.html#get_lobby_members/1-examples"},{"type":"function","title":"GameServer.Lobbies.join_lobby/3","doc":"","ref":"GameServer.Lobbies.html#join_lobby/3"},{"type":"function","title":"GameServer.Lobbies.kick_user/3","doc":"Kick a user from a lobby. Only the host can kick users.\nReturns {:ok, user} on success, {:error, reason} on failure.","ref":"GameServer.Lobbies.html#kick_user/3"},{"type":"function","title":"GameServer.Lobbies.leave_lobby/1","doc":"","ref":"GameServer.Lobbies.html#leave_lobby/1"},{"type":"function","title":"GameServer.Lobbies.list_all_lobbies/2","doc":"List ALL lobbies including hidden ones. For admin use only.\nAccepts filters: %{\n  title: string,\n  is_hidden: boolean/string,\n  is_locked: boolean/string,\n  has_password: boolean/string,\n  min_users: integer (filter by max_users >= val),\n  max_users: integer (filter by max_users <= val)\n}","ref":"GameServer.Lobbies.html#list_all_lobbies/2"},{"type":"function","title":"GameServer.Lobbies.list_lobbies/2","doc":"List lobbies. Accepts optional search filters.","ref":"GameServer.Lobbies.html#list_lobbies/2"},{"type":"function","title":"Filters - GameServer.Lobbies.list_lobbies/2","doc":"* `:title` - Filter by title (partial match)\n  * `:is_passworded` - boolean or string 'true'/'false' (omit for any)\n  * `:is_locked` - boolean or string 'true'/'false' (omit for any)\n  * `:min_users` - Filter lobbies with max_users >= value\n  * `:max_users` - Filter lobbies with max_users <= value\n  * `:metadata_key` - Filter by metadata key\n  * `:metadata_value` - Filter by metadata value (requires metadata_key)","ref":"GameServer.Lobbies.html#list_lobbies/2-filters"},{"type":"function","title":"Options - GameServer.Lobbies.list_lobbies/2","doc":"See `GameServer.Types.lobby_list_opts/0` for available options.","ref":"GameServer.Lobbies.html#list_lobbies/2-options"},{"type":"function","title":"GameServer.Lobbies.list_lobbies_for_user/3","doc":"List lobbies visible to a specific user.\nIncludes the user's own lobby even if it's hidden.","ref":"GameServer.Lobbies.html#list_lobbies_for_user/3"},{"type":"function","title":"GameServer.Lobbies.list_memberships_for_lobby/1","doc":"","ref":"GameServer.Lobbies.html#list_memberships_for_lobby/1"},{"type":"function","title":"GameServer.Lobbies.quick_join/4","doc":"Attempt to find an open lobby matching the given criteria and join it, or\ncreate a new lobby if none matches.\n\nSignature: quick_join(user, title \\ nil, max_users \\ nil, metadata \\ %{})\n\n- If the user is already in a lobby returns {:error, :already_in_lobby}\n- On successful join or creation returns {:ok, lobby}\n- Propagates errors from join or create flows","ref":"GameServer.Lobbies.html#quick_join/4"},{"type":"function","title":"GameServer.Lobbies.subscribe_lobbies/0","doc":"Subscribe to global lobby events (lobby created, updated, deleted).","ref":"GameServer.Lobbies.html#subscribe_lobbies/0"},{"type":"function","title":"GameServer.Lobbies.subscribe_lobby/1","doc":"Subscribe to a specific lobby's events (membership changes, updates).","ref":"GameServer.Lobbies.html#subscribe_lobby/1"},{"type":"function","title":"GameServer.Lobbies.unsubscribe_lobby/1","doc":"Unsubscribe from a specific lobby's events.","ref":"GameServer.Lobbies.html#unsubscribe_lobby/1"},{"type":"function","title":"GameServer.Lobbies.update_lobby/2","doc":"Updates an existing lobby.","ref":"GameServer.Lobbies.html#update_lobby/2"},{"type":"function","title":"Attributes - GameServer.Lobbies.update_lobby/2","doc":"See `GameServer.Types.lobby_update_attrs/0` for available fields.","ref":"GameServer.Lobbies.html#update_lobby/2-attributes"},{"type":"function","title":"GameServer.Lobbies.update_lobby_by_host/3","doc":"","ref":"GameServer.Lobbies.html#update_lobby_by_host/3"},{"type":"module","title":"GameServer.Accounts.User","doc":"The User schema and associated changeset functions used across the\napplication (registration, OAuth, and admin changes).\n\nThis module keeps Ecto changesets for common user interactions and\nvalidations so other domains can reuse them safely.","ref":"GameServer.Accounts.User.html"},{"type":"type","title":"GameServer.Accounts.User.t/0","doc":"The public user struct used across the application.","ref":"GameServer.Accounts.User.html#t:t/0"},{"type":"function","title":"GameServer.Accounts.User.admin_changeset/2","doc":"A user changeset for admin updates.","ref":"GameServer.Accounts.User.html#admin_changeset/2"},{"type":"function","title":"GameServer.Accounts.User.apple_oauth_changeset/2","doc":"A user changeset for Apple OAuth registration.\n\nIt accepts email and Apple ID.","ref":"GameServer.Accounts.User.html#apple_oauth_changeset/2"},{"type":"function","title":"GameServer.Accounts.User.attach_device_changeset/2","doc":"Changeset used when a device_id is present (linking device_id to user).\nEnsures device_id is stored on user record and enforces uniqueness by DB\nconstraint.","ref":"GameServer.Accounts.User.html#attach_device_changeset/2"},{"type":"function","title":"GameServer.Accounts.User.confirm_changeset/1","doc":"Confirms the account by setting `confirmed_at`.","ref":"GameServer.Accounts.User.html#confirm_changeset/1"},{"type":"function","title":"GameServer.Accounts.User.device_changeset/2","doc":"A user changeset used for device-based logins where there is no email.\n\nDevice users are created with optional display_name and metadata and are\nimmediately confirmed so the SDK can receive tokens without email confirmation.","ref":"GameServer.Accounts.User.html#device_changeset/2"},{"type":"function","title":"GameServer.Accounts.User.discord_oauth_changeset/2","doc":"A user changeset for Discord OAuth registration.\n\nIt accepts email and Discord fields.","ref":"GameServer.Accounts.User.html#discord_oauth_changeset/2"},{"type":"function","title":"GameServer.Accounts.User.display_name_changeset/2","doc":"A simple changeset for updating a user's display name.","ref":"GameServer.Accounts.User.html#display_name_changeset/2"},{"type":"function","title":"GameServer.Accounts.User.email_changeset/3","doc":"A user changeset for registering or changing the email.\n\nIt requires the email to change otherwise an error is added.","ref":"GameServer.Accounts.User.html#email_changeset/3"},{"type":"function","title":"Options - GameServer.Accounts.User.email_changeset/3","doc":"* `:validate_unique` - Set to false if you don't want to validate the\n    uniqueness of the email, useful when displaying live validations.\n    Defaults to `true`.","ref":"GameServer.Accounts.User.html#email_changeset/3-options"},{"type":"function","title":"GameServer.Accounts.User.facebook_oauth_changeset/2","doc":"A user changeset for Facebook OAuth registration.\n\nIt accepts email and Facebook ID.","ref":"GameServer.Accounts.User.html#facebook_oauth_changeset/2"},{"type":"function","title":"GameServer.Accounts.User.google_oauth_changeset/2","doc":"A user changeset for Google OAuth registration.\n\nIt accepts email and Google ID.","ref":"GameServer.Accounts.User.html#google_oauth_changeset/2"},{"type":"function","title":"GameServer.Accounts.User.password_changeset/3","doc":"A user changeset for changing the password.\n\nIt is important to validate the length of the password, as long passwords may\nbe very expensive to hash for certain algorithms.","ref":"GameServer.Accounts.User.html#password_changeset/3"},{"type":"function","title":"Options - GameServer.Accounts.User.password_changeset/3","doc":"* `:hash_password` - Hashes the password so it can be stored securely\n    in the database and ensures the password field is cleared to prevent\n    leaks in the logs. If password hashing is not needed and clearing the\n    password field is not desired (like when using this changeset for\n    validations on a LiveView form), this option can be set to `false`.\n    Defaults to `true`.","ref":"GameServer.Accounts.User.html#password_changeset/3-options"},{"type":"function","title":"GameServer.Accounts.User.registration_changeset/3","doc":"A user changeset for registering a new user.","ref":"GameServer.Accounts.User.html#registration_changeset/3"},{"type":"function","title":"GameServer.Accounts.User.steam_oauth_changeset/2","doc":"A user changeset for Steam OpenID registration.\n\nExpects steam_id and optional profile fields.","ref":"GameServer.Accounts.User.html#steam_oauth_changeset/2"},{"type":"function","title":"GameServer.Accounts.User.valid_password?/2","doc":"Verifies the password.\n\nIf there is no user or the user doesn't have a password, we call\n`Bcrypt.no_user_verify/0` to avoid timing attacks.","ref":"GameServer.Accounts.User.html#valid_password?/2"},{"type":"module","title":"GameServer.Friends.Friendship","doc":"Ecto schema representing a friendship/request between two users.\n\nThe friendship object stores the requester and the target user together with\na status field which can be \"pending\", \"accepted\", \"rejected\" or\n\"blocked\".","ref":"GameServer.Friends.Friendship.html"},{"type":"type","title":"GameServer.Friends.Friendship.t/0","doc":"A friendship/request record between two users.","ref":"GameServer.Friends.Friendship.html#t:t/0"},{"type":"module","title":"GameServer.Leaderboards.Leaderboard","doc":"Ecto schema for the `leaderboards` table.\n\nA leaderboard is a self-contained scoreboard that can be permanent or time-limited.\nEach leaderboard has its own settings for sort order and score operator.","ref":"GameServer.Leaderboards.Leaderboard.html"},{"type":"module","title":"Sort Order - GameServer.Leaderboards.Leaderboard","doc":"- `:desc` — Higher scores rank first (default)\n- `:asc` — Lower scores rank first (e.g., fastest time)","ref":"GameServer.Leaderboards.Leaderboard.html#module-sort-order"},{"type":"module","title":"Operators - GameServer.Leaderboards.Leaderboard","doc":"- `:set` — Always replace with new score\n- `:best` — Only update if new score is better (default)\n- `:incr` — Add to existing score\n- `:decr` — Subtract from existing score","ref":"GameServer.Leaderboards.Leaderboard.html#module-operators"},{"type":"type","title":"GameServer.Leaderboards.Leaderboard.operator/0","doc":"","ref":"GameServer.Leaderboards.Leaderboard.html#t:operator/0"},{"type":"type","title":"GameServer.Leaderboards.Leaderboard.sort_order/0","doc":"","ref":"GameServer.Leaderboards.Leaderboard.html#t:sort_order/0"},{"type":"function","title":"GameServer.Leaderboards.Leaderboard.active?/1","doc":"Returns true if the leaderboard is currently active (not ended).","ref":"GameServer.Leaderboards.Leaderboard.html#active?/1"},{"type":"function","title":"GameServer.Leaderboards.Leaderboard.changeset/2","doc":"Changeset for creating a new leaderboard.","ref":"GameServer.Leaderboards.Leaderboard.html#changeset/2"},{"type":"function","title":"GameServer.Leaderboards.Leaderboard.ended?/1","doc":"Returns true if the leaderboard has ended.","ref":"GameServer.Leaderboards.Leaderboard.html#ended?/1"},{"type":"function","title":"GameServer.Leaderboards.Leaderboard.update_changeset/2","doc":"Changeset for updating an existing leaderboard.\nDoes not allow changing id, sort_order, or operator after creation.","ref":"GameServer.Leaderboards.Leaderboard.html#update_changeset/2"},{"type":"module","title":"GameServer.Leaderboards.Record","doc":"Ecto schema for the `leaderboard_records` table.\n\nA record represents a single user's score entry in a leaderboard.\nEach user can have at most one record per leaderboard.","ref":"GameServer.Leaderboards.Record.html"},{"type":"function","title":"GameServer.Leaderboards.Record.changeset/2","doc":"Changeset for creating a new record.","ref":"GameServer.Leaderboards.Record.html#changeset/2"},{"type":"function","title":"GameServer.Leaderboards.Record.update_changeset/2","doc":"Changeset for updating an existing record's score.","ref":"GameServer.Leaderboards.Record.html#update_changeset/2"},{"type":"module","title":"GameServer.Lobbies.Lobby","doc":"Ecto schema for the `lobbies` table and changeset helpers.\n\nA lobby represents a game room with basic settings (title, host, capacity,\nvisibility, lock/password and arbitrary metadata).","ref":"GameServer.Lobbies.Lobby.html"},{"type":"function","title":"GameServer.Lobbies.Lobby.changeset/2","doc":"","ref":"GameServer.Lobbies.Lobby.html#changeset/2"},{"type":"extras","title":"README","doc":"![gamend banner](https://github.com/appsinacup/game_server/blob/main/priv/static/images/banner.png?raw=true)\n\n-----\n\n**Open source _game server_ with _authentication, users, lobbies, server scripting and an admin portal_.**\n\nGame + Backend = Gamend\n\n-----\n\n[Discord](https://discord.com/invite/56dMud8HYn) | [Elixir Docs](https://appsinacup.github.io/game_server/) | [API Docs](https://gamend.appsinacup.com/api/docs) | [Guides](https://gamend.appsinacup.com/docs/setup) | [Starter Template](https://github.com/appsinacup/gamend_starter)\n\nTo start your server:\n\n* Run `mix setup` to install and setup dependencies.\n\nNow you can visit [`localhost:4000`](http://localhost:4000) from your browser.","ref":"readme.html"},{"type":"extras","title":"Authentication - README","doc":"This application supports two authentication methods:","ref":"readme.html#authentication"},{"type":"extras","title":"Browser Authentication (Session-based) - README","doc":"Traditional session-based authentication for browser flows:\n- Email/password registration and login\n- Discord OAuth\n- Apple Sing In\n- Google OAuth\n- Steam OpenID\n- Facebook OAuth\n- Session tokens stored in database\n- Managed via cookies and Phoenix sessions","ref":"readme.html#browser-authentication-session-based"},{"type":"extras","title":"API Authentication (JWT) - README","doc":"Modern JWT authentication using access + refresh tokens (industry standard):\n\n**Token Types:**\n- **Access tokens**: Short-lived (15 minutes), used for API requests\n- **Refresh tokens**: Long-lived (30 days), used to obtain new access tokens","ref":"readme.html#api-authentication-jwt"},{"type":"extras","title":"Users - README","doc":"User management:\n\n- Multiple sign-in flows supported: Email/password, device tokens (SDK), and OAuth (Discord / Google / Facebook / Apple).\n- Per-user profile metadata as JSON\n- Account lifecycle: registration, login, password reset, and account deletion endpoints.","ref":"readme.html#users"},{"type":"extras","title":"Friends - README","doc":"Social features:\n\n- Friend requests with accept / reject / block flows.","ref":"readme.html#friends"},{"type":"extras","title":"Lobbies - README","doc":"Matchmaking and lobbies:\n\n- Host-managed behavior, max users, hidden/locked states, and password protection.\n- Public APIs are provided for listing, creating, joining, leaving, updating and kicking.","ref":"readme.html#lobbies"},{"type":"extras","title":"Server scripting (Elixir) - README","doc":"Extendable server behavior:\n\n- Hooks on server events (eg. on_user_login, on_lobby_created)","ref":"readme.html#server-scripting-elixir"},{"type":"extras","title":"Client SDK - README","doc":"- [Javascript SDK](https://www.npmjs.com/package/@ughuuu/game_server)\n- [Godot SDK](https://godotengine.org/asset-library/asset/4510)","ref":"readme.html#client-sdk"},{"type":"extras","title":"Elixir SDK - README","doc":"The `sdk/` folder contains stub modules that provide IDE autocomplete and documentation for custom hook scripts. When building your own [Starter Template](https://github.com/appsinacup/gamend_starter), add the SDK as a dependency:\n\n```elixir\n# mix.exs\ndefp deps do\n  [\n    {:game_server_sdk, github: \"appsinacup/game_server\", sparse: \"sdk\"}\n  ]\nend\n```\n\nExample hook with autocomplete:\n\n```elixir\ndefmodule MyApp.Hooks do\n  use GameServer.Hooks\n\n  @impl true\n  def after_user_login(user) do\n    # IDE autocomplete works for user fields and Accounts functions\n    GameServer.Accounts.update_user(user, %{\n      metadata: Map.put(user.metadata, \"last_login\", DateTime.utc_now())\n    })\n    :ok\n  end\nend\n```\n\nTo regenerate SDK stubs from the main project:\n\n```sh\nmix gen.sdk\n```","ref":"readme.html#elixir-sdk"},{"type":"extras","title":"How to deploy Starter Template - README","doc":"1. Fork this repo (or create a Dockerfile like this):\n\n```sh\nFROM ghcr.io/appsinacup/game_server:latest\n\nWORKDIR /app\n\nCOPY modules/ ./modules/\n```\n\n2. Go to fly.io and deploy (select the forked repo).\n3. Set secrets all values in `.env.example`. Run locally `fly secrets sync` and `fly secrets deploy` (in case secrets don't deploy/update).\n4. Configure all things from [Guides](https://gamend.appsinacup.com/docs/setup) page.\n5. Monthly cost (without Postgres) will be about 5$.","ref":"readme.html#how-to-deploy-starter-template"},{"type":"extras","title":"Git hooks - README","doc":"To install precommit hooks, run:\n\n```sh\n\tbin/setup-git-hooks\n```\n\nTo skip, run:\n\n```sh\n\tSKIP_PRECOMMIT=1 git commit\n```","ref":"readme.html#git-hooks"},{"type":"extras","title":"Leaderboards Implementation Plan","doc":"# Leaderboards Implementation Plan","ref":"leaderboards_plan.html"},{"type":"extras","title":"Status: ✅ COMPLETED - Leaderboards Implementation Plan","doc":"> All phases have been implemented and tested. The leaderboard system is fully functional.","ref":"leaderboards_plan.html#status-completed"},{"type":"extras","title":"Overview - Leaderboards Implementation Plan","doc":"A **server-authoritative** leaderboard system where each leaderboard is self-contained (can be permanent or time-limited). Simple 2-table design. Full stack: schema, context, API, admin UI, user UI, OpenAPI docs, and guide page.\n\n---","ref":"leaderboards_plan.html#overview"},{"type":"extras","title":"Database Schema - Leaderboards Implementation Plan","doc":"### `leaderboards`\n| Column | Type | Description |\n|--------|------|-------------|\n| `id` | `string` (PK) | Unique ID (e.g., \"weekly_kills_w48\", \"all_time_score\") |\n| `title` | `string` | Display name |\n| `description` | `string` | Optional description |\n| `sort_order` | `enum` | `:desc` (default) or `:asc` |\n| `operator` | `enum` | `:set`, `:best`, `:incr`, `:decr` |\n| `starts_at` | `utc_datetime` | When leaderboard started (nullable) |\n| `ends_at` | `utc_datetime` | When leaderboard ended (nullable = active) |\n| `metadata` | `map` | Extra data |\n| `inserted_at` / `updated_at` | timestamps |\n\n### `leaderboard_records`\n| Column | Type | Description |\n|--------|------|-------------|\n| `id` | `bigint` (PK) | Auto-increment |\n| `leaderboard_id` | `string` (FK) | References `leaderboards.id` |\n| `user_id` | `bigint` (FK) | References `users.id` |\n| `score` | `bigint` | Score value |\n| `metadata` | `map` | Per-record metadata |\n| `inserted_at` / `updated_at` | timestamps |\n\n**Indexes:**\n- Unique: `(leaderboard_id, user_id)`\n- Index: `(leaderboard_id, score DESC)` and `(leaderboard_id, score ASC)`\n\n---","ref":"leaderboards_plan.html#database-schema"},{"type":"extras","title":"Implementation Phases - Leaderboards Implementation Plan","doc":"","ref":"leaderboards_plan.html#implementation-phases"},{"type":"extras","title":"Phase 1: Schema & Migration ✅ - Leaderboards Implementation Plan","doc":"- [x] Create migration for `leaderboards` and `leaderboard_records`\n- [x] Add enums for `sort_order` and `operator`","ref":"leaderboards_plan.html#phase-1-schema-migration"},{"type":"extras","title":"Phase 2: Context Module ✅ - Leaderboards Implementation Plan","doc":"- [x] `GameServer.Leaderboards` context with:\n  - `create_leaderboard/1`, `update_leaderboard/2`, `delete_leaderboard/1`\n  - `get_leaderboard/1`, `get_leaderboard!/1`\n  - `list_leaderboards/1` (opts: `active: true/false`)\n  - `submit_score/4` — server-only, handles operator logic\n  - `list_records/2` — paginated with rank\n  - `list_records_around_user/3` — centered on user\n  - `get_user_record/2` — single user's record + rank\n  - `delete_record/1`, `delete_user_record/2`","ref":"leaderboards_plan.html#phase-2-context-module"},{"type":"extras","title":"Phase 3: API Controllers & Routes - Leaderboards Implementation Plan","doc":"- [ ] `LeaderboardController`:\n  - `GET /api/v1/leaderboards` — list leaderboards\n  - `GET /api/v1/leaderboards/:id` — get leaderboard\n  - `GET /api/v1/leaderboards/:id/records` — list records\n  - `GET /api/v1/leaderboards/:id/records/around/:user_id` — around user\n  - `GET /api/v1/leaderboards/:id/records/me` — current user's record\n- [ ] Add to router under `/api/v1`","ref":"leaderboards_plan.html#phase-3-api-controllers-routes"},{"type":"extras","title":"Phase 4: OpenAPI Documentation - Leaderboards Implementation Plan","doc":"- [ ] Add schemas: `Leaderboard`, `LeaderboardRecord`\n- [ ] Document all endpoints with request/response examples","ref":"leaderboards_plan.html#phase-4-openapi-documentation"},{"type":"extras","title":"Phase 5: Admin UI - Leaderboards Implementation Plan","doc":"- [ ] `AdminLive.Leaderboards` LiveView:\n  - List all leaderboards (with filters: active/ended)\n  - Create/Edit/Delete leaderboards\n  - View records for a leaderboard\n  - Manually add/edit/delete records\n  - End a leaderboard (set `ends_at`)\n- [ ] Add link in admin index page","ref":"leaderboards_plan.html#phase-5-admin-ui"},{"type":"extras","title":"Phase 6: User UI - Leaderboards Implementation Plan","doc":"- [ ] Add \"Leaderboards\" button in header (next to Settings/Logout)\n- [ ] `LeaderboardsLive` page:\n  - List active leaderboards\n  - Click to view records\n  - Show current user's rank highlighted\n  - Pagination\n- [ ] Route: `/leaderboards` and `/leaderboards/:id`","ref":"leaderboards_plan.html#phase-6-user-ui"},{"type":"extras","title":"Phase 7: Guide Page - Leaderboards Implementation Plan","doc":"- [ ] Add leaderboards section to `/docs/guide`:\n  - How leaderboards work\n  - Server-only score submission\n  - API endpoints\n  - Example code (Elixir, Godot)","ref":"leaderboards_plan.html#phase-7-guide-page"},{"type":"extras","title":"Phase 8: Tests - Leaderboards Implementation Plan","doc":"- [ ] Context unit tests (`leaderboards_test.exs`)\n- [ ] API controller tests (`leaderboard_controller_test.exs`)\n- [ ] Admin LiveView tests (`admin_live/leaderboards_test.exs`)\n- [ ] User LiveView tests (`leaderboards_live_test.exs`)\n\n---","ref":"leaderboards_plan.html#phase-8-tests"},{"type":"extras","title":"API Endpoints - Leaderboards Implementation Plan","doc":"| Method | Endpoint | Auth | Description |\n|--------|----------|------|-------------|\n| `GET` | `/api/v1/leaderboards` | Optional | List leaderboards |\n| `GET` | `/api/v1/leaderboards/:id` | Optional | Get leaderboard details |\n| `GET` | `/api/v1/leaderboards/:id/records` | Optional | List records (paginated) |\n| `GET` | `/api/v1/leaderboards/:id/records/around/:user_id` | Required | Records around user |\n| `GET` | `/api/v1/leaderboards/:id/records/me` | Required | Current user's record + rank |\n\n**Query params:**\n- `active` — `true`/`false` to filter by ended status\n- `limit` — page size (default 25, max 100)\n- `page` — page number\n\n**Response format (list records):**\n```json\n{\n  \"data\": [\n    {\n      \"rank\": 1,\n      \"user_id\": 123,\n      \"display_name\": \"PlayerOne\",\n      \"score\": 5000,\n      \"metadata\": {},\n      \"updated_at\": \"2025-12-01T10:00:00Z\"\n    }\n  ],\n  \"meta\": {\n    \"page\": 1,\n    \"page_size\": 25,\n    \"total_count\": 150,\n    \"total_pages\": 6,\n    \"has_more\": true\n  }\n}\n```\n\n---","ref":"leaderboards_plan.html#api-endpoints"},{"type":"extras","title":"Server-Side Functions - Leaderboards Implementation Plan","doc":"```elixir\n# Create leaderboard\nLeaderboards.create_leaderboard(%{\n  id: \"weekly_kills_w49\",\n  title: \"Weekly Kills - Week 49\",\n  sort_order: :desc,\n  operator: :incr,\n  starts_at: ~U[2025-12-02 00:00:00Z]\n})\n\n# Submit score (server-only)\nLeaderboards.submit_score(\"weekly_kills_w49\", user_id, 10, %{weapon: \"sword\"})\n\n# End leaderboard\nLeaderboards.end_leaderboard(\"weekly_kills_w49\")\n\n# List active leaderboards\nLeaderboards.list_leaderboards(active: true)\n\n# Get records with rank\nLeaderboards.list_records(\"weekly_kills_w49\", page: 1, limit: 25)\n\n# Get user's rank\nLeaderboards.get_user_record(\"weekly_kills_w49\", user_id)\n```\n\n---","ref":"leaderboards_plan.html#server-side-functions"},{"type":"extras","title":"UI Mockups - Leaderboards Implementation Plan","doc":"","ref":"leaderboards_plan.html#ui-mockups"},{"type":"extras","title":"Header (logged in user) - Leaderboards Implementation Plan","doc":"```\n[Logo]                    [Leaderboards] [Settings] [Log out]\n```","ref":"leaderboards_plan.html#header-logged-in-user"},{"type":"extras","title":"Leaderboards Page (/leaderboards) - Leaderboards Implementation Plan","doc":"```\n┌─────────────────────────────────────────────────────────┐\n│  Leaderboards                                           │\n├─────────────────────────────────────────────────────────┤\n│  ┌─────────────────────────────────────────────────┐   │\n│  │ Weekly Kills - Week 49              🟢 Active   │   │\n│  │ Ends: Dec 9, 2025                   [View →]    │   │\n│  └─────────────────────────────────────────────────┘   │\n│  ┌─────────────────────────────────────────────────┐   │\n│  │ All-Time High Score                 🟢 Active   │   │\n│  │ Permanent                           [View →]    │   │\n│  └─────────────────────────────────────────────────┘   │\n│  ┌─────────────────────────────────────────────────┐   │\n│  │ Weekly Kills - Week 48              ⚫ Ended    │   │\n│  │ Ended: Dec 2, 2025                  [View →]    │   │\n│  └─────────────────────────────────────────────────┘   │\n└─────────────────────────────────────────────────────────┘\n```","ref":"leaderboards_plan.html#leaderboards-page-leaderboards"},{"type":"extras","title":"Leaderboard Detail (/leaderboards/:id) - Leaderboards Implementation Plan","doc":"```\n┌─────────────────────────────────────────────────────────┐\n│  ← Back    Weekly Kills - Week 49                       │\n│            🟢 Active | Ends Dec 9, 2025                 │\n├─────────────────────────────────────────────────────────┤\n│  Your Rank: #5 (1,250 pts)                              │\n├──────┬──────────────────┬───────────┬──────────────────┤\n│ Rank │ Player           │ Score     │ Updated          │\n├──────┼──────────────────┼───────────┼──────────────────┤\n│ 1    │ ProGamer123      │ 5,000     │ 2 hours ago      │\n│ 2    │ NinjaKiller      │ 4,200     │ 1 hour ago       │\n│ 3    │ SwordMaster      │ 3,800     │ 30 min ago       │\n│ 4    │ DragonSlayer     │ 1,500     │ 5 hours ago      │\n│ 5    │ **You**          │ **1,250** │ 10 min ago       │  ← highlighted\n│ 6    │ CoolPlayer       │ 1,100     │ 3 hours ago      │\n├──────┴──────────────────┴───────────┴──────────────────┤\n│                [Prev] Page 1/6 [Next]                   │\n└─────────────────────────────────────────────────────────┘\n```","ref":"leaderboards_plan.html#leaderboard-detail-leaderboards-id"},{"type":"extras","title":"Admin UI (/admin/leaderboards) - Leaderboards Implementation Plan","doc":"```\n┌─────────────────────────────────────────────────────────┐\n│  ← Back to Admin    Leaderboards (5)    [+ Create]     │\n├─────────────────────────────────────────────────────────┤\n│  Filter: [All ▼] [Active ▼] [Ended ▼]                  │\n├──────┬────────────────────┬────────┬────────┬──────────┤\n│ ID   │ Title              │ Status │ Records│ Actions  │\n├──────┼────────────────────┼────────┼────────┼──────────┤\n│ w_49 │ Weekly Kills W49   │ Active │ 150    │ [Edit]   │\n│      │                    │        │        │ [Records]│\n│      │                    │        │        │ [End]    │\n├──────┼────────────────────┼────────┼────────┼──────────┤\n│ all  │ All-Time Score     │ Active │ 1,234  │ [Edit]   │\n│      │                    │        │        │ [Records]│\n└──────┴────────────────────┴────────┴────────┴──────────┘\n```\n\n---","ref":"leaderboards_plan.html#admin-ui-admin-leaderboards"},{"type":"extras","title":"Files to Create/Modify - Leaderboards Implementation Plan","doc":"","ref":"leaderboards_plan.html#files-to-create-modify"},{"type":"extras","title":"New Files - Leaderboards Implementation Plan","doc":"```\nlib/game_server/leaderboards.ex                      # Context\nlib/game_server/leaderboards/leaderboard.ex          # Schema\nlib/game_server/leaderboards/record.ex               # Schema\n\nlib/game_server_web/controllers/api/v1/leaderboard_controller.ex\nlib/game_server_web/live/leaderboards_live.ex        # User UI\nlib/game_server_web/live/admin_live/leaderboards.ex  # Admin UI\n\npriv/repo/migrations/XXXX_create_leaderboards.exs\n\ntest/game_server/leaderboards_test.exs\ntest/game_server_web/controllers/api/v1/leaderboard_controller_test.exs\ntest/game_server_web/live/leaderboards_live_test.exs\ntest/game_server_web/live/admin_live/leaderboards_test.exs\ntest/support/fixtures/leaderboards_fixtures.ex\n```","ref":"leaderboards_plan.html#new-files"},{"type":"extras","title":"Modified Files - Leaderboards Implementation Plan","doc":"```\nlib/game_server_web/router.ex                        # Add routes\nlib/game_server_web/components/layouts/app.html.heex # Add header button\nlib/game_server_web/live/admin_live/index.ex         # Add link\nlib/game_server_web/live/public_docs/guide.html.heex # Add section\nlib/game_server_web/controllers/api/v1/open_api.ex   # Add schemas\n```\n\n---","ref":"leaderboards_plan.html#modified-files"},{"type":"extras","title":"Execution Order - Leaderboards Implementation Plan","doc":"1. **Phase 1-2**: Schema + Context (foundation)\n2. **Phase 3-4**: API + OpenAPI (backend complete)\n3. **Phase 5**: Admin UI (management)\n4. **Phase 6**: User UI (public facing)\n5. **Phase 7**: Guide page (docs)\n6. **Phase 8**: Tests (throughout)\n\n---","ref":"leaderboards_plan.html#execution-order"},{"type":"extras","title":"Progress Tracking - Leaderboards Implementation Plan","doc":"","ref":"leaderboards_plan.html#progress-tracking"},{"type":"extras","title":"Phase 1: Schema & Migration - Leaderboards Implementation Plan","doc":"- [ ] Migration created\n- [ ] Schemas created","ref":"leaderboards_plan.html#phase-1-schema-migration-1"},{"type":"extras","title":"Phase 2: Context Module - Leaderboards Implementation Plan","doc":"- [ ] Leaderboard CRUD\n- [ ] Record CRUD\n- [ ] submit_score with operator logic\n- [ ] list_records with rank\n- [ ] list_records_around_user\n- [ ] get_user_record","ref":"leaderboards_plan.html#phase-2-context-module-1"},{"type":"extras","title":"Phase 3: API Controllers - Leaderboards Implementation Plan","doc":"- [ ] LeaderboardController created\n- [ ] Routes added","ref":"leaderboards_plan.html#phase-3-api-controllers"},{"type":"extras","title":"Phase 4: OpenAPI - Leaderboards Implementation Plan","doc":"- [ ] Schemas added\n- [ ] Endpoints documented","ref":"leaderboards_plan.html#phase-4-openapi"},{"type":"extras","title":"Phase 5: Admin UI - Leaderboards Implementation Plan","doc":"- [ ] LiveView created\n- [ ] Link in admin index","ref":"leaderboards_plan.html#phase-5-admin-ui-1"},{"type":"extras","title":"Phase 6: User UI - Leaderboards Implementation Plan","doc":"- [ ] Header button added\n- [ ] LeaderboardsLive created\n- [ ] Routes added","ref":"leaderboards_plan.html#phase-6-user-ui-1"},{"type":"extras","title":"Phase 7: Guide Page - Leaderboards Implementation Plan","doc":"- [ ] Section added","ref":"leaderboards_plan.html#phase-7-guide-page-1"},{"type":"extras","title":"Phase 8: Tests - Leaderboards Implementation Plan","doc":"- [ ] Context tests\n- [ ] Controller tests\n- [ ] LiveView tests","ref":"leaderboards_plan.html#phase-8-tests-1"}],"content_type":"text/markdown","proglang":"elixir","producer":{"name":"ex_doc","version":"0.39.1"}}